# 배경화면 인터랙티브 캐릭터 앱 (Aniper) - PRD

## 1. 개요

**프로젝트명:** Aniper (Animated Character Companion)
**플랫폼:** Android
**목표:** 사용자의 Android 홈 화면에 인터랙티브한 애니메이션 캐릭터를 띄우고 상호작용할 수 있는 앱

---

## 2. 핵심 가치 제안

- 🎨 **파스텔 톤 UI/UX**: 차분하고 친근한 다크모드 인터페이스
- 🎭 **캐릭터 커스터마이징**: 사용자가 직접 이미지와 애니메이션으로 캐릭터 제작 가능
- 🌍 **커뮤니티 마켓**: 사용자가 만든 캐릭터를 공유하고 다운로드받을 수 있는 생태계
- 💬 **실시간 상호작용**: 클릭, 드래그, 터치 등 다양한 입력에 반응하는 캐릭터

---

## 3. 주요 기능

### 3.1 앱 초기 실행 화면
- 파스텔 톤의 다크모드 UI로 맞이
- 기본 설치된 캐릭터 2-3개 제공
- 캐릭터 관리, 마켓, 설정 탭 표시

### 3.2 캐릭터 소환 (배경화면 표시)
- **소환**: 선택한 캐릭터가 안드로이드 홈 화면(배경화면 레이어)에 띄워짐
- **움직임 범위**: 사용자가 지정 가능 (전체 화면 또는 특정 영역)
- **배경화면 보존**: 기존 배경화면 이미지 위에 캐릭터 표시

### 3.3 캐릭터 애니메이션 & 인터랙션

#### 3.3.1 기본 모션
각 캐릭터는 다음의 PNG/GIF 애니메이션을 가져야 함:
- **Idle (가만히 있기)**: 기본 대기 상태
- **Walk Left (좌측 이동)**: 왼쪽으로 걷는 애니메이션
- **Walk Right (우측 이동)**: 오른쪽으로 걷는 애니메이션
- **Click (클릭)**: 짧게 터치했을 때의 반응 모션 (깜짝 놀라거나 흔들기 등)
- **Grab (잡았을 때)**: 길게 누르고 있을 때의 모션 (손가락에 붙어있는 상태)
- **Fall (떨어지기)**: 드래그 후 놓았을 때의 떨어지는 애니메이션
- **Land (착지)**: 바닥에 닿았을 때의 애니메이션

#### 3.3.2 사용자 상호작용
| 사용자 입력 | 캐릭터 반응 |
|-----------|----------|
| 짧게 클릭 (탭) | Click 모션 재생 |
| 길게 누르기 시작 | Grab 모션 재생 |
| 길게 누르고 드래그 | 캐릭터를 손가락 따라 이동, Grab 상태 유지 |
| 터치 해제 | Fall 모션 재생 → Land 모션 → 일반 상태로 돌아감 |
| 상호작용 없음 | Idle, Walk Left, Walk Right 중 하나를 랜덤하게 반복 |

#### 3.3.3 AI 행동 (상호작용 없을 때)
- 3가지 행동을 주기적으로 무작위 선택:
  1. **가만히 있기 (Idle)**: 3-5초 유지
  2. **좌측 이동 (Walk Left)**: 2-4초 진행
  3. **우측 이동 (Walk Right)**: 2-4초 진행
- 화면 경계에 닿으면 방향 자동 전환
- 사용자와의 상호작용 시 AI 행동 중단

### 3.4 캐릭터 관리 화면

#### 3.4.1 캐릭터 목록
```
[캐릭터 이미지] "캐릭터 이름"  [소환] 또는 [설치] 버튼
```
- 좌측: 캐릭터의 Idle 상태 이미지/애니메이션 썸네일
- 중앙: 캐릭터 이름
- 우측: 상태에 따른 버튼
  - 설치되지 않음: `[설치]` 버튼
  - 설치됨: `[소환]` / `[제거]` 버튼
  - 활성화됨: `[소환 해제]` 버튼

#### 3.4.2 캐릭터 상세 보기
버튼 클릭 시 (소환/설치 버튼 제외) 모달 오픈:
- 모든 모션 GIF/이미지 표시 (2x4 그리드: Idle, Walk Left, Walk Right, Click, Grab, Fall, Land 7개)
- 캐릭터 이름 (굵은 글씨)
- 캐릭터 설명 (최대 200자)
- 작성자 정보 (기본 캐릭터의 경우 "공식")
- 닫기 버튼

### 3.5 캐릭터 생성 화면

#### 3.5.1 레이아웃
- **이미지 추가 섹션**: 2×N 배열로 모션 이미지/GIF 추가 가능
  - 7개의 슬롯 (Idle, Walk Left, Walk Right, Click, Grab, Fall, Land)
  - 각 슬롯에 PNG 또는 GIF 업로드 가능
  - 미리보기 썸네일 표시

- **정보 입력 섹션**:
  - **이름**: 최대 30자 (필수)
  - **설명**: 최대 200자 (필수)
  - **태그**: 3개 입력 (필수)
    - 각 태그 최대 15자
    - 태그 추가/삭제 UI

- **버튼**:
  - `[저장하기]`: 로컬에 캐릭터 저장
  - `[심사 신청]`: 마켓에 등록하기 위해 심사 신청
  - `[취소]`: 작성 취소

#### 3.5.2 유효성 검사
- 모든 모션(7개) 이미지 필수
- 이름, 설명 필수 입력
- 태그 3개 필수 입력

### 3.6 마켓 (캐릭터 판매/공유 시스템)

#### 3.6.1 마켓 탭 - 사용 가능한 캐릭터 목록
```
[검색 바]  [필터/정렬]
────────────────────
[캐릭터 카드] [캐릭터 카드] ...
```

**캐릭터 카드 구성:**
- 캐릭터 Idle 이미지/GIF (썸네일)
- 캐릭터 이름
- 작성자 이름
- ⭐ 체크마크 (심사 통과 캐릭터만 표시)
- 📥 다운로드 수
- `[다운로드]` 버튼

#### 3.6.2 검색 & 필터
- **검색 바**: 캐릭터 이름으로 검색
- **태그 필터**: 사용자가 입력한 3개 태그로 필터링 가능
- **정렬 옵션**:
  - 신규순
  - 인기순 (다운로드 수)
  - 평점순 (추후 기능)

#### 3.6.3 심사 시스템
- **심사 대기 큐**: 관리자가 접근 가능한 별도 탭/관리 페이지
  - 심사 대기 중인 캐릭터 목록
  - 각 캐릭터의 이미지, 이름, 설명, 태그 표시
  - 모션 미리보기

- **승인/거부 옵션**:
  - `[승인]`: 마켓에 등록, 캐릭터 이름 우측에 ⭐ 체크마크 표시
  - `[거부]`: 작성자에게 거부 사유 알림

- **승인 조건** (예시):
  - 모든 모션 이미지 정상 표시
  - 부적절한 콘텐츠 없음
  - 설명 및 태그의 명확성

#### 3.6.4 캐릭터 상세 보기 (마켓)
마켓의 캐릭터 클릭 시:
- 모든 모션 GIF/이미지 (2x4 그리드: Idle, Walk Left, Walk Right, Click, Grab, Fall, Land 7개)
- 캐릭터 이름 + ⭐ (승인된 경우)
- 캐릭터 설명
- 작성자 정보
- 📥 다운로드 수
- 태그 표시
- `[다운로드]` 버튼

---

## 4. UI/UX 디자인 가이드

### 4.1 색상 팔레트
**다크모드 파스텔 톤:**
- 배경: `#1a1a2e` (진한 남색)
- 서브 배경: `#2a2a4e` (약간 밝은 남색)
- 주요 강조색: `#c9a8d8` (보라), `#a8d8d8` (민트), `#f4a8c8` (분홍)
- 텍스트: `#f0e8e8` (밝은 회색)
- 보조 텍스트: `#b0a8a8` (짙은 회색)
- 버튼 주요색: `#c9a8d8` (보라)
- 버튼 호버: `#d8b8e8` (연한 보라)

### 4.2 타이포그래피
- **헤더**: 20-24px, 굵음 (700)
- **본문**: 14-16px, 일반 (400)
- **버튼**: 14-16px, 중간 (600)
- 폰트 패밀리: 'Noto Sans CJK', 'Roboto' (또는 유사 산세리프)

### 4.3 컴포넌트 스타일
- **버튼**: 둥근 모서리 (12px), 그림자 효과, 호버 시 색상 변경
- **카드**: 둥근 모서리 (8px), 미묘한 그림자
- **입력 필드**: 둥근 모서리 (8px), 포커스 시 테두리 강조색
- **모달**: 반투명 배경 (검은색 40%), 중앙 정렬

### 4.4 하단 네비게이션 탭
- 🏠 **홈** (캐릭터 관리)
- 🛍️ **마켓**
- ➕ **캐릭터 생성**
- ⚙️ **설정**

---

## 5. 기술적 요구사항

### 5.1 플랫폼 & 스택
- **개발 언어**: Kotlin (Android 권장)
- **최소 API**: Android 7.0 (API 24)
- **타겟 API**: Android 14+ (최신)
- **라이브러리**:
  - 애니메이션: Android Animation Framework, Glide/Fresco (GIF 처리)
  - 데이터베이스: SQLite 또는 Room ORM
  - 백엔드 통신: Retrofit + OkHttp (마켓 동기화)
  - UI: Jetpack Compose 또는 레이아웃 XML

### 5.2 주요 기술 구현
- **Live Wallpaper Service**: 안드로이드 배경화면 API 활용
- **Touch Event Handling**: 터치 입력 감지 및 처리
- **Physics Engine**: 중력, 낙하 속도 등 물리 시뮬레이션
- **Image/GIF Processing**: PNG, GIF 파일 로드 및 애니메이션 재생
- **로컬 데이터 저장**: 다운로드한 캐릭터, 사용자 생성 캐릭터 저장

### 5.3 성능 요구사항
- 배경화면에서 부드러운 60 FPS 애니메이션 유지
- 메모리 사용량 최소화 (배터리 효율)
- 여러 캐릭터 소환 시에도 안정적 작동

### 5.4 보안
- 이미지 파일 검증 (악성 파일 방지)
- 캐릭터 데이터 암호화 저장
- API 통신 SSL/TLS 암호화

---

## 6. 마켓 백엔드 요구사항

### 6.1 서버 기능
- **캐릭터 데이터 저장소**: 심사 대기 & 승인된 캐릭터 저장
- **다운로드 수 추적**: 각 캐릭터의 다운로드 통계
- **검색 & 필터링 API**: 이름, 태그 기반 검색
- **심사 관리**: 관리자 대시보드 (심사 큐, 승인/거부)
- **사용자 계정 (선택사항)**: 사용자별 창작 캐릭터 관리

### 6.2 데이터 스키마 (예시)
```
characters 테이블:
- id (PK)
- name (캐릭터 이름)
- description (설명)
- author (작성자)
- idle_image, walk_left, walk_right, click, grab, fall, land (7개 모션 URL)
- tags (3개, JSON 배열 또는 별도 테이블)
- status (pending, approved, rejected)
- download_count
- created_at
- approved_at
```

---

## 7. 사용자 시나리오

### 시나리오 1: 기본 캐릭터 소환
1. 앱 실행 → 파스텔 톤 UI 노출
2. 기본 캐릭터 "Fluffy" 선택
3. `[소환]` 버튼 클릭
4. 안드로이드 홈 화면에 "Fluffy" 캐릭터 나타남
5. 캐릭터가 화면에서 무작위로 움직임
6. 사용자가 캐릭터 짧게 탭 → Click 모션 재생
7. 사용자가 캐릭터 길게 누르기 → Grab 모션 시작
8. 드래그 하며 이동 → Grab 상태 유지
9. 터치 해제 → Fall → Land 모션

### 시나리오 2: 캐릭터 직접 제작
1. `[캐릭터 생성]` 탭 이동
2. 6개 모션 이미지 업로드
3. 이름: "My Bunny" 입력
4. 설명: "귀여운 토끼 친구" 입력
5. 태그: "#cute", "#animal", "#pastel" 입력
6. `[저장하기]` → 로컬 저장
7. `[심사 신청]` → 마켓 등록 신청

### 시나리오 3: 마켓에서 캐릭터 다운로드
1. `[마켓]` 탭 이동
2. 검색 바에 "cat" 입력 또는 "#pet" 태그 필터
3. 검색 결과 중 "Meow Cat" 선택
4. 상세 보기: 7개 모션, 설명, 다운로드 수(1.2K) 확인
5. ⭐ 체크마크 확인 (심사 통과)
6. `[다운로드]` 버튼 클릭
7. 앱의 캐릭터 목록에 추가
8. `[소환]` 버튼으로 배경화면에 띄우기

---

## 8. 출시 후 확장 기능 (로드맵)

### Phase 2
- 캐릭터 평점/리뷰 시스템
- 사용자 프로필 & 팔로우 기능
- 캐릭터 커스터마이징 (색상, 크기 조정)
- 음성 효과 (optional)

### Phase 3
- 멀티플레이어 (여러 사용자 캐릭터 공유)
- 캐릭터 간 상호작용
- 이벤트 기반 스페셜 캐릭터
- NFT 또는 수익화 옵션

---

## 9. 비기능 요구사항

| 항목 | 요구사항 |
|-----|--------|
| **성능** | 배경화면에서 60 FPS 유지, 메모리 < 100MB |
| **가용성** | 99.5% 가동률 (마켓 서버) |
| **보안** | SSL/TLS, 이미지 파일 검증, 데이터 암호화 |
| **확장성** | 최대 1M개 캐릭터 데이터 처리 가능 |
| **호환성** | Android 7.0 이상 모든 기기 지원 |

---

## 10. 성공 지표 (KPI)

- 월 활성 사용자 수 (MAU)
- 배경화면에 띄운 캐릭터 평균 시간
- 마켓에서 다운로드된 캐릭터 수
- 사용자 생성 캐릭터의 심사 통과율
- 앱 평점 (목표 4.5/5)

---

## 11. 프로젝트 일정 (예상)

| 단계 | 기간 | 결과물 |
|------|------|-------|
| **설계 & 프로토타입** | 2주 | 디자인 시안, 기술 스택 결정 |
| **핵심 기능 개발** | 4주 | 앱 기본 기능, 배경화면 통합 |
| **마켓 시스템** | 3주 | 백엔드 API, 심사 관리 |
| **테스트 & 최적화** | 2주 | QA, 성능 튜닝 |
| **Beta 출시** | 1주 | 내부 테스트 |

---

## 12. 문서 버전 관리

| 버전 | 날짜 | 수정사항 |
|------|------|---------|
| v1.0 | 2026-02-18 | 초안 작성 |
| v1.1 | 2026-02-18 | 클릭 모션과 Grab 모션 분리 (7개 모션으로 확대) |

